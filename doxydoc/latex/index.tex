\label{index_mainpage}%
\Hypertarget{index_mainpage}%
\hypertarget{index_autotoc_md0}{}\doxysection{Introduction}\label{index_autotoc_md0}
This page provides a high-\/level overview of the internals of doxygen, with links to the relevant parts of the code. This document is intended for developers who want to work on doxygen. Users of doxygen are referred to the \href{https://www.doxygen.nl/manual/index.html}{\texttt{ User Manual}}.

The generic starting point of the application is of course the \mbox{\hyperlink{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main()}} function.\hypertarget{index_autotoc_md1}{}\doxysection{Configuration options}\label{index_autotoc_md1}
Configuration file data is stored in singleton class \mbox{\hyperlink{namespaceConfig}{Config}} and can be accessed using wrapper macros \mbox{\hyperlink{config_8h_a737741e6991bdb5694a50075437a9d89}{Config\+\_\+get\+String()}}, \mbox{\hyperlink{config_8h_a06b59c3720174e9078f613095a89b295}{Config\+\_\+get\+Int()}}, \mbox{\hyperlink{config_8h_a15e896ce0b99792d1344b66af98928e7}{Config\+\_\+get\+List()}}, \mbox{\hyperlink{config_8h_afe899eec751dfb75a60c37ec3840e288}{Config\+\_\+get\+Enum()}}, and \mbox{\hyperlink{config_8h_a5373d0332a31f16ad7a42037733e8c79}{Config\+\_\+get\+Bool()}} depending on the type of the option.

The format of the configuration file (options and types) is defined by the file {\ttfamily config.\+xml}. As part of the build process, the python script {\ttfamily \mbox{\hyperlink{configgen_8py}{configgen.\+py}}} will create a file {\ttfamily configoptions.\+cpp} from this, which serves as the input for the configuration file parser that is invoked using \mbox{\hyperlink{namespaceConfig_a455ee38b43cec2501b11fd3696ab0ebd}{Config\+::parse()}}. The script {\ttfamily \mbox{\hyperlink{configgen_8py}{configgen.\+py}}} will also create the documentation for the configuration items, creating the file {\ttfamily config.\+doc}.\hypertarget{index_autotoc_md2}{}\doxysection{Gathering Input files}\label{index_autotoc_md2}
After the configuration is known, the input files are searched using \mbox{\hyperlink{doxygen_8cpp_a7ed1fdd15e6ed566c33a63fcd30d53c4}{search\+Input\+Files()}} and any tag files are read using read\+Tag\+File()\hypertarget{index_autotoc_md3}{}\doxysection{Parsing Input files}\label{index_autotoc_md3}
The function parse\+Files() takes care of parsing all files. It uses the \mbox{\hyperlink{classParserManager}{Parser\+Manager}} singleton factory to create a suitable parser object for each file. Each parser implements the abstract interface Parser\+Interface.

If the parser indicates it needs preprocessing via Parser\+Interface\+::needs\+Preprocessing(), doxygen will call preprocess\+File() on the file.

A second step is to convert multiline C++-\/style comments into C style comments for easier processing later on. As side effect of this step also aliases (ALIASES option) are resolved. The function that performs these 2 tasks is called \mbox{\hyperlink{commentcnv_8h_a04d92f4281c65ebe972f5bf92bcb4a09}{convert\+Cpp\+Comments()}}.

{\itshape Note\+:} Alias resolution should better be done in a separate step as it is now coupled to C/\+C++ code and does not work automatically for other languages!

The third step is the actual language parsing and is done by calling Parser\+Interface\+::parse\+Input() on the parser interface returned by the \mbox{\hyperlink{classParserManager}{Parser\+Manager}}.

The result of parsing is a tree of \mbox{\hyperlink{classEntry}{Entry}} objects. These \mbox{\hyperlink{classEntry}{Entry}} objects are wrapped in a Entry\+Nav object and stored on disk using Entry\+::create\+Navigation\+Index() on the root node of the tree.

Each \mbox{\hyperlink{classEntry}{Entry}} object roughly contains the raw data for a symbol and is later converted into a \mbox{\hyperlink{classDefinition}{Definition}} object.

When a parser finds a special comment block in the input, it will do a first pass parsing via parse\+Comment\+Block(). During this pass the comment block is split into multiple parts if needed. Some data that is later needed is extracted like section labels, xref items, and formulas. Also \mbox{\hyperlink{classMarkdown}{Markdown}} markup is processed using process\+Markdown() during this pass.\hypertarget{index_autotoc_md4}{}\doxysection{Resolving relations}\label{index_autotoc_md4}
The \mbox{\hyperlink{classEntry}{Entry}} objects created and filled during parsing are stored on disk (to keep memory needs low). The name, parent/child relation, and location on disk of each \mbox{\hyperlink{classEntry}{Entry}} is stored as a tree of Entry\+Nav nodes, which is kept in memory.

\mbox{\hyperlink{classDoxygen}{Doxygen}} does a number of tree walks over the Entry\+Nav nodes in the tree to build up the data structures needed to produce the output.

The resulting data structures are all children of the generic base class called \mbox{\hyperlink{classDefinition}{Definition}} which holds all non-\/specific data for a symbol definition.

\mbox{\hyperlink{classDefinition}{Definition}} is an abstract base class. Concrete subclasses are
\begin{DoxyItemize}
\item \mbox{\hyperlink{classClassDef}{Class\+Def}}\+: for storing class/struct/union related data
\item \mbox{\hyperlink{classNamespaceDef}{Namespace\+Def}}\+: for storing namespace related data
\item \mbox{\hyperlink{classFileDef}{File\+Def}}\+: for storing file related data
\item \mbox{\hyperlink{classDirDef}{Dir\+Def}}\+: for storing directory related data
\end{DoxyItemize}

For doxygen specific concepts the following subclasses are available
\begin{DoxyItemize}
\item \mbox{\hyperlink{classGroupDef}{Group\+Def}}\+: for storing grouping related data
\item \mbox{\hyperlink{classPageDef}{Page\+Def}}\+: for storing page related data
\end{DoxyItemize}

Finally the data for members of classes, namespaces, and files is stored in the subclass \mbox{\hyperlink{classMemberDef}{Member\+Def}}.\hypertarget{index_autotoc_md5}{}\doxysection{Producing debug output}\label{index_autotoc_md5}
Within doxygen there are a number of ways to obtain debug output. Besides the invasive method of putting print statements in the code there are a number of easy ways to get debug information.


\begin{DoxyItemize}
\item Compilation of {\ttfamily .l} files~\newline
 This is also an invasive method but it will be automatically done by the {\ttfamily flex / lex} command. The result is that of each input line the (lex) rule(s) that are applied on it are shown.
\begin{DoxyItemize}
\item windows
\begin{DoxyItemize}
\item in the Visual C++ GUI
\begin{DoxyItemize}
\item find the required {\ttfamily .l} file
\item select the {\ttfamily Properties} of this file
\item set the item {\ttfamily Write used lex rules} to {\ttfamily Yes}
\item see to it that the {\ttfamily .l} file is newer than the corresponding {\ttfamily .cpp} file or remove the corresponding {\ttfamily .cpp} file
\end{DoxyItemize}
\end{DoxyItemize}
\item unices
\begin{DoxyItemize}
\item global change~\newline
 In the chapter \char`\"{}\+Doxygen\textquotesingle{}s internals\char`\"{} a {\ttfamily perl} script is given to toggle the possibility of having the rules debug information.
\item command line change~\newline
 It is possible to the option {\ttfamily LEX=\char`\"{}flex -\/d\char`\"{}} with the {\ttfamily make} command on the command line. In this case the {\ttfamily .l} that are converted to the corresponding {\ttfamily .cpp} files during this {\ttfamily make} get the rules debug information.~\newline
 To undo the rules debug information output just recompile the file with just {\ttfamily make}.~\newline
 Note this method applies for all the {\ttfamily .l} files that are rebuild to {\ttfamily .cpp} files so be sure that only the {\ttfamily .l} files(s) of which you want to have the rules debug information is (are) newer than the corresponding {\ttfamily .cpp} file(s).
\end{DoxyItemize}
\end{DoxyItemize}
\item Running doxygen~\newline
 During a run of doxygen it is possible to specify the {\ttfamily -\/d} option with the following possibilities (each option has to be preceded by {\ttfamily -\/d})\+:
\begin{DoxyItemize}
\item findmembers~\newline
 Gives of global, class, module members its scope, arguments and other relevant information.
\item functions~\newline
 Gives of functions its scope, arguments and other relevant information.
\item variables~\newline
 Gives of variables its scope and other relevant information.
\item classes~\newline
 Gives of classes en modules its scope and other relevant information.
\item preprocessor~\newline
 Shows the results of the preprocessing phase, i.\+e. results from include files, {\ttfamily \#define} statements etc., definitions in the doxygen configuration file like\+: {\ttfamily EXPAND\+\_\+\+ONLY\+\_\+\+PREDEF}, {\ttfamily PREDEFINED} and {\ttfamily MACRO\+\_\+\+EXPANSION}.
\item commentcnv~\newline
 Shows the results of the comment conversion, the comment conversion does the following\+:
\begin{DoxyItemize}
\item It converts multi-\/line C++ style comment blocks (that are aligned) to C style comment blocks (if {\ttfamily MULTILINE\+\_\+\+CPP\+\_\+\+IS\+\_\+\+BRIEF} is set to {\ttfamily NO}).
\item It replaces aliases with their definition (see {\ttfamily ALIASES})
\item It handles conditional sections ({\ttfamily \textbackslash{}cond ... \textbackslash{}endcond} blocks)
\end{DoxyItemize}
\item commentscan~\newline
 Will print each comment block before and after the comment is interpreted by the comment scanner.
\item printtree~\newline
 Give the results in pretty print way, i.\+e. in an XML like way with each level indented by a {\ttfamily \char`\"{}.\char`\"{}} (dot).
\item time~\newline
 Provides information of the different stages of the doxygen process.
\item extcmd~\newline
 Shows which external commands are executed and which pipes are opened.
\item markdown~\newline
 Will print each comment block before and after \mbox{\hyperlink{classMarkdown}{Markdown}} processing.
\item filteroutput~\newline
 Gives the output of the output as result of the filter command (when a filter command is specified)
\item validate~\newline
 Currently not used
\item lex~\newline
 Provide output of the {\ttfamily lex} files used. When a lexer is started and when a lexer ends the name of the {\ttfamily lex} file is given so it is possible to see in which lexer the problem occurs. This makes it easier to select the file to be compiled in {\ttfamily lex} debug mode.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{index_autotoc_md6}{}\doxysection{Producing output}\label{index_autotoc_md6}
TODO\hypertarget{index_autotoc_md7}{}\doxysection{Topics TODO}\label{index_autotoc_md7}

\begin{DoxyItemize}
\item \mbox{\hyperlink{structGrouping}{Grouping}} of files in Model / Parser / Generator categories
\item Index files based on \mbox{\hyperlink{classIndexIntf}{Index\+Intf}}
\begin{DoxyItemize}
\item HTML navigation
\item HTML Help (chm)
\item Documentation Sets (XCode)
\item Qt Help (qhp)
\item Eclipse Help
\end{DoxyItemize}
\item Search index
\begin{DoxyItemize}
\item Java\+Script based
\item Server based
\item External
\end{DoxyItemize}
\item Citations
\begin{DoxyItemize}
\item via bibtex
\end{DoxyItemize}
\item Various processing steps for a comment block
\begin{DoxyItemize}
\item comment conversion
\item comment scanner
\item markdown processor
\item doc tokenizer
\item doc parser
\item doc visitors
\end{DoxyItemize}
\item Diagrams and Images
\begin{DoxyItemize}
\item builtin
\item via Graphviz dot
\item via mscgen
\item PNG generation
\end{DoxyItemize}
\item Output formats\+: Output\+Gen, \mbox{\hyperlink{classOutputList}{Output\+List}}, and \mbox{\hyperlink{classDocVisitor}{Doc\+Visitor}}
\begin{DoxyItemize}
\item Html\+: \mbox{\hyperlink{classHtmlGenerator}{Html\+Generator}} and \mbox{\hyperlink{classHtmlDocVisitor}{Html\+Doc\+Visitor}}
\item Latex\+: \mbox{\hyperlink{classLatexGenerator}{Latex\+Generator}} and \mbox{\hyperlink{classLatexDocVisitor}{Latex\+Doc\+Visitor}}
\item RTF\+: \mbox{\hyperlink{classRTFGenerator}{RTFGenerator}} and \mbox{\hyperlink{classRTFDocVisitor}{RTFDoc\+Visitor}}
\item Man\+: \mbox{\hyperlink{classManGenerator}{Man\+Generator}} and \mbox{\hyperlink{classManDocVisitor}{Man\+Doc\+Visitor}}
\item XML\+: \mbox{\hyperlink{xmlgen_8cpp_a0f9b3e222369b7d908441a0825b0da84}{generate\+XML()}} and \mbox{\hyperlink{classXmlDocVisitor}{Xml\+Doc\+Visitor}}
\item print\+: debugging via \mbox{\hyperlink{classPrintDocVisitor}{Print\+Doc\+Visitor}}
\item text\+: \mbox{\hyperlink{classTextDocVisitor}{Text\+Doc\+Visitor}} for tooltips
\item perlmod
\end{DoxyItemize}
\item i18n via \mbox{\hyperlink{classTranslator}{Translator}} and \mbox{\hyperlink{language_8cpp}{language.\+cpp}}
\item Customizing the layout via \mbox{\hyperlink{classLayoutDocManager}{Layout\+Doc\+Manager}}
\item Parsers
\begin{DoxyItemize}
\item C Preprocessing
\begin{DoxyItemize}
\item const expression evaluation
\end{DoxyItemize}
\item C link languages
\item Python
\item Fortran
\item VHDL
\item Tag files
\end{DoxyItemize}
\item Marshaling to/from disk
\item Portability functions
\item Utility functions 
\end{DoxyItemize}